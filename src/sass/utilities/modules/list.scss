@use 'sass:meta';
@use 'sass:list';
@use 'sass:map';

@function is-list($value) {
  @return meta.type-of($value) == list;
}

@function is-map($value) {
  @return meta.type-of($value) == map;
}

@function is-empty-list($value) {
  @if is-list($value) and list.length($value) == 0 {
    @return true;
  } @else {
    @return false;
  }
}

@function is-last-elem($list, $elem) {
  @if is-list($list) {
    @return list.nth($list, -1) == $elem;
  } @else {
    @error "$list in is-last-elem() must be 'list', '#{meta.type-of($list)}' - provided";
  }
}

@function remove-elem($list, $elem) {
  @if is-list($list) {
    @if list.index($list, $elem) {
      $result: ();
      @each $item in $list {
        @if $item != $elem {
          $result: list.append($result, $item);
        }
      }

      @return $result;
    } @else {
      @return list;
    }
  } @else if is-map($list) {
    @return map.remove($list, $elem);
  } @else {
    @error "$list in remove-elem() must be 'list' of 'map', '#{meta.type-of($list)}' - provided"
  }
}